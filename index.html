<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <title>RegionViewer</title>

</head>
<body>

<h1>RegionViewer</h1>

<p>
<a href="http://github.com/stevenreyn/RegionViewer">RegionViewer</a> allows you 
to export a region (graph of objects on a JVM) to several different 
types of graph files. The most useful type of output graph file is 
<a href="http://www.graphviz.org/">GraphViz format</a>. These files have a
.dot extension.  Using GraphViz tools,you can easily convert the dot file to many different formats, 
such as SVG.</p>

<p>
RegionViewer uses some heuristics to decide what details to show and which to
suppress. It is smart enough to detect and avoid loops. An example output
looks like the following.</p>

<img alt="Example export of two Java Strings" src="images/strings.dot.svg" />

<p>
This above example shows the export from two Java Strings. The Strings were 
defined like this:</p>

<pre>
        String brother = "brother";
        String the = brother.substring(3, 6);
</pre>
    
<p>
The RegionViewer was given the two object references, brother and the. It first
followed all the objects reachable from brother and colored those nodes
redish-orange, and then followed the objects reachable from the and colored those
nodes yellowish. Any object previously visited was not exported a second time.</p>

<p>
This example shows Java's immutable String objects exhibiting structural sharing.
The code used to generate this graph is in the RegionViewer project in the file
acceptanceTest/net/slreynolds/ds/SimplestExample.java. You can read and run this Java file
to see how to use the RegionViewer. Here is the
essential part of that code:</p>

<pre>
        String brother = "brother";
        String the = brother.substring(3, 6);

	HashMap<String,Object> options = new HashMap<String,Object>();
	options.put(ExporterOptions.OUTPUT_PATH, "simplest_strings.dot");
	    
	ObjectSaver gvizSaver = new ObjectSaver(new GraphVizExporter());
	gvizSaver.save(new Object[]{brother,the},
	    		       new String[]{"brother","the"}, 
	    		       options);

        System.out.printf("All done. Convert to SVG using GraphViz command \"dot -O -Tsvg simplest_strings.dot\".\n");
</pre>

<h2>More Examples</h2>
<p>
Some other examples are the following.</p>

<img alt="Example export of a Java ArrayList" src="images/alist.dot.svg"/>

<p>This above example shows the export from a Java ArrayList that contains two objects.</p>

<img alt="Example export of a Java LinkedList" src="images/llist.dot.svg"/>

<p>This above example shows the export from a Java ArrayList that contains two objects.</p>

<img alt="Example export of a Scala HashMap" src="images/hmap-ops.dot.svg"/>

<p>This above example shows the export from a Scala HashMap and a map derived
from the orignal by adding a key/value. These last two Scala examples were generated by 
code in the 
<a href="http://github.com/stevenreyn/ScalaRegionExamples">ScalaRegionExamples</a>
project.</p>

<img alt="Example export of a Scala HashMap" src="images/hmap-ops_simple.dot.svg"/>

<p>This above example shows the same scenario as above but using the simpler GraphViz
exporter. This exporter suppresses all primitive fields and therefore only shows
objects and their relationships.</p>
</body>
</html>

